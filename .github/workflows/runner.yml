name: Network Bypass Runner
on:
  schedule:
    - cron: '0 */4 * * *' # اجرای خودکار هر ۴ ساعت برای پایداری ۲۴/۷ [۵۸۲]
  workflow_dispatch:      # امکان اجرای دستی در صورت قطع شدن [۵۸۳]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Deploy Proxy Core
        run: |
          bash <(curl -Ls https://raw.githubusercontent.com/yonggekkk/argosbx/main/argosbx.sh)
        env:
          # --- متغیرهای حیاتی برای حل خطا ---
          vlpt: 443                # فعال‌سازی VLESS-Reality روی پورت 443 [۶۵۹، ۶۶۹]
          argo: vwpt               # فعال‌سازی تونل آرگو برای پروتکل Vless-ws [۶۵۹، ۶۸۲]
          
          # --- سایر تنظیمات کلودفلر ---
          agk: ${{ secrets.CF_ARGOTUNNEL_TOKEN }} # توکن آرگو (در صورت داشتن تونل ثابت) [۵۷۹، ۶۸۳]
          cf_token: ${{ secrets.CF_API_TOKEN }}
          cf_zone: ${{ secrets.CF_ZONE_ID }}
